<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>

        <title>Site Computação</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta http-equiv="X-UA-Conpatible" content="IE=edge" />
        <h:outputStylesheet library="css" name="bootstrap.min.css"></h:outputStylesheet>
        <link href="css/estilo.css" rel="stylesheet"/>
        <link href="css/carousel.css" rel="stylesheet"/>
        <link href="css/ie10-viewport-bug-workaround.css" rel="stylesheet"/>

    </h:head>
    <ui:insert name="menu" >
        <ui:include src="menu.xhtml"/>   
    </ui:insert>

    <h:body> 
        <h:form styleClass=" row page-header col-sm-12 " >
            <div class="col-sm-4 text-right"><h:graphicImage  value="#{resource['img/brasao.png']}" /> </div>
            <div class="col-sm-4 text-left" >
                <h1 class="portal-title corto ">Ciência da Computação</h1> 
                <span class="portal-description">Ministério da Educação</span>
            </div>
        </h:form >

        <!--Notícias ================================================================ -->
        <section>
            <div class="text-center"><h1>Notícias Recentes</h1></div>
            <div class="container" >
                <div class="row">
                    <h:form>
                        <c:forEach var="noticia" items="${noticiasHelper.noticias}" varStatus="id" begin="0" end="2">
                            <div class="col-md-4">
                                <div class="thumbnail">
                                    <div style="margin-left: auto; margin-right: auto; text-align: center; margin-bottom: auto; height: 235px">
                                        <p:graphicImage styleClass="img-responsive img-thumbnail" style="    max-width:300px;
                                                        max-height:250px;
                                                        width: auto;
                                                        height: auto;" value="#{noticiasHelper.image}">
                                            <f:param name="noticia" value="#{noticia.id}" />
                                        </p:graphicImage>
                                    </div>
                                    <div class="caption">
                                        <div style="margin-left: auto; margin-right: auto; text-align: center; margin-bottom: auto; height: 90px">
                                            <h3><h:commandLink value="#{noticiasHelper.limitarTitulo(noticia)}" action="#{noticiasHelper.pagina}">
                                                    <f:setPropertyActionListener target="#{siteComentariosController.comentario.noticiaId}" value="#{noticia}"/>
                                                    <f:param name="noticia" value="#{noticia.id}" />
                                                </h:commandLink></h3>
                                        </div>
                                        <div style="margin-left: auto; margin-right: auto; margin-bottom: auto; height: 150px">
                                            <p><h:outputText value="#{noticiasHelper.limitarNoticia(noticia)}"></h:outputText></p>
                                        </div>
                                        <div style="height: 70px">
                                            <p><h:outputText value="Data da Postagem: #{noticia.hora}"/><br></br>
                                                <h:outputText value="Tags Relacionadas: #{noticia.siteNoticiaTagsList}"/></p>
                                        </div>
                                        <p><h:commandLink  styleClass="btn btn-primary" style="color:#ffffff" value="Saber Mais" action="#{noticiasHelper.pagina}">
                                                <f:setPropertyActionListener target="#{siteComentariosController.comentario.noticiaId}" value="#{noticia}"/>
                                                <f:param name="noticia" value="#{noticia.id}" />
                                            </h:commandLink> 
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </c:forEach>
                    </h:form>
                </div>
            </div>
        </section>
        <section>
            <div class="container" >
                <div class="row">
                    <h:form>
                        <c:forEach var="noticia" items="${noticiasHelper.noticias}" varStatus="id" begin="3" end="5">
                            <div class="col-md-4">
                                <div class="thumbnail">
                                    <div style="margin-left: auto; margin-right: auto; text-align: center; margin-bottom: auto; height: 235px">
                                        <p:graphicImage styleClass="img-responsive img-thumbnail" style="    max-width:300px;
                                                        max-height:250px;
                                                        width: auto;
                                                        height: auto;" value="#{noticiasHelper.image}">
                                            <f:param name="noticia" value="#{noticia.id}" />
                                        </p:graphicImage>
                                    </div>
                                    <div class="caption">
                                        <div style="margin-left: auto; margin-right: auto; text-align: center; margin-bottom: auto; height: 90px">
                                            <h3><h:commandLink value="#{noticiasHelper.limitarTitulo(noticia)}" action="#{noticiasHelper.pagina}">
                                                    <f:setPropertyActionListener target="#{siteComentariosController.comentario.noticiaId}" value="#{noticia}"/>
                                                    <f:param name="noticia" value="#{noticia.id}" />
                                                </h:commandLink></h3>
                                        </div>
                                        <div style="margin-left: auto; margin-right: auto; margin-bottom: auto; height: 150px">
                                            <p><h:outputText value="#{noticiasHelper.limitarNoticia(noticia)}"></h:outputText></p>
                                        </div>
                                        <div style="height: 70px">
                                            <p><h:outputText value="Data da Postagem: #{noticia.hora}"/><br></br>
                                                <h:outputText value="Tags Relacionadas: #{noticia.siteNoticiaTagsList}"/></p>
                                        </div>
                                        <p><h:commandLink  styleClass="btn btn-primary" style="color:#ffffff" value="Saber Mais" action="#{noticiasHelper.pagina}">
                                                <f:setPropertyActionListener target="#{siteComentariosController.comentario.noticiaId}" value="#{noticia}"/>
                                                <f:param name="noticia" value="#{noticia.id}" />
                                            </h:commandLink> 
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </c:forEach>
                    </h:form>
                </div>

            <h:form>
                <!--<button type="button" class="btn btn-default btn-block">Todas as Notícias</button>-->
                <!--<h:button styleClass="btn btn-default btn-block" value="Todas as Notícias"  ></h:button>-->
                <h:commandLink value="Todas as Notícias" styleClass="btn btn-default btn-block" actionListener="#{navegacaoHelper.all_noticias()}"/>
                <br></br>
            </h:form>
            </div>
        </section>

        <section>
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="#">Ciência da Computação - UFT</a>
                </div>

                <div id="navbar" class="navbar-collapse collapse">
                    <h:form id="form" class="navbar-form navbar-right" rendered="#{!loginController.isUser}">
                        <div class="form-group">
                            <p:inputText styleClass="form-control" id="email" value="#{loginController.user.roles}" placeholder="E-mail" required="true"/>
                        </div>
                        <div class="form-group">
                            <p:password styleClass="form-control" id="senha" value="#{loginController.user.password}" required="true" placeholder="Senha"></p:password>
                        </div>
                        <h:commandButton styleClass="btn btn-success" action="#{loginController.login}" value="Entrar"></h:commandButton>
                    </h:form>

                </div><!--/.navbar-collapse -->
            </div>
            <h:form id="footer1">
                <footer>
                    <p class="text-center">&copy; Universidade Federal do Tocantins</p>
                </footer>
            </h:form>
        </section>

        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script defer="defer" src="//barra.brasil.gov.br/barra.js" type="text/javascript"></script>
        <h:outputScript library="js" name="bootstrap.min.js" />
    </h:body>
</html>
