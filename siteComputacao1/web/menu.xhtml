<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"      
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>

        <!-- Barra do Governo -->
        <ui:insert name="governo">
            <ui:include src="barra_governo.xhtml"></ui:include>
        </ui:insert>

        <ui:insert name="logo">
            <ui:include src="logo.xhtml"/>
        </ui:insert>

        <!--Navbar / Menu -->
        <h:form id="menu">
            <nav class="navbar navbar-dark primary-color-dark">

                <!-- Collapse button-->
                <button class="navbar-toggler hidden-sm-up" type="button" data-toggle="collapse" data-target="#collapseEx">
                    <i class="fa fa-bars"></i>
                </button>

                <!--Menu-->
                <div class="container">

                    <!--Collapse content-->
                    <div class="collapse navbar-toggleable-xs" id="collapseEx">
                        <!--Navbar Brand -->
                        <!--Links-->
                        <ul class="nav navbar-nav">
                            <!--<li class="nav-item active">
                                <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
                            </li>-->

                            <h:panelGroup rendered="#{loginController.isAdmin}">
                                <li class="nav-item btn-group" style="font-size: .88em">
                                    <a class="nav-link dropdown-toggle" id="dropdownMenu5" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Recursos</a>
                                    <div class="dropdown-menu" aria-labelledby="dropdownMenu5">
                                        <h:commandLink styleClass="dropdown-item" value="Tipo de Equipamentos" actionListener="#{navegacaoHelper.paginaTipoEquipamento()}"></h:commandLink>
                                        <h:commandLink styleClass="dropdown-item" value="Tipo de Infraestrutura" actionListener="#{navegacaoHelper.paginaTipoInfraestrutura}"  /> 
                                        <h:commandLink styleClass="dropdown-item" value="Equipamentos" actionListener="#{navegacaoHelper.paginaEquipamento()}"></h:commandLink>
                                        <h:commandLink styleClass="dropdown-item" value="Infraestrutura" actionListener="#{navegacaoHelper.paginaInfraestrutura()}"></h:commandLink>
                                    </div>
                                </li>


                                <li class="nav-item btn-group" style="font-size: .88em">
                                    <a class="nav-link dropdown-toggle" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Administração</a>
                                    <div class="dropdown-menu" aria-labelledby="dropdownMenu1">
                                        <h:commandLink styleClass="dropdown-item" value="Usuário"  actionListener="#{navegacaoHelper.paginaUsuario}"  />
                                        <h:commandLink styleClass="dropdown-item" value="Formação"  actionListener="#{navegacaoHelper.paginaFormacao}"  /> 
                                        <h:commandLink styleClass="dropdown-item" value="Tag"  actionListener="#{navegacaoHelper.paginaTag}"  />              
                                        <h:commandLink styleClass="dropdown-item" value="Função"  actionListener="#{navegacaoHelper.paginaFuncao}"  /> 
                                        <h:commandLink styleClass="dropdown-item" value="Perfil" actionListener="#{navegacaoHelper.paginaPerfil}"  />                                     
                                        <h:commandLink styleClass="dropdown-item" value="Cargo" actionListener="#{navegacaoHelper.paginaCargo}"  />                                    
                                        <h:commandLink styleClass="dropdown-item" value="Servidor" actionListener="#{navegacaoHelper.paginaProfessor}"  />                                    
                                        <h:commandLink styleClass="dropdown-item" value="Desativar Perfil" actionListener="#{navegacaoHelper.paginaAssociarPerfil}"  />                                    
                                        <h:commandLink styleClass="dropdown-item" value="Estagiário" actionListener="#{navegacaoHelper.paginaEstagiario}"  /> 
                                        <h:commandLink styleClass="dropdown-item" value="Monitor" actionListener="#{navegacaoHelper.paginaMonitor}"  /> 
                                        <h:commandLink styleClass="dropdown-item" value="Turma" actionListener="#{navegacaoHelper.paginaTurma}"  /> 
                                    </div>
                                </li>
                                
                                 <li class="nav-item btn-group" style="font-size: .88em">
                                    <a class="nav-link dropdown-toggle" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Documentos</a>
                                    <div class="dropdown-menu" aria-labelledby="dropdownMenu1">                                                                         
                                        <h:commandLink styleClass="dropdown-item" value="Documento" actionListener="#{navegacaoHelper.paginaDocumento}"  /> 
                                        <h:commandLink styleClass="dropdown-item" value="Documento 2" actionListener="#{navegacaoHelper.paginaDocumento2}"  /> 
                                        <h:commandLink styleClass="dropdown-item" value="Tipo de Documento" actionListener="#{navegacaoHelper.paginaTpDocumento}"  /> 
                                        <h:commandLink styleClass="dropdown-item" value="Tipo de Publicação" actionListener="#{navegacaoHelper.paginaTpPublicacao}"  />
                                        <h:commandLink styleClass="dropdown-item" value="Conselho" actionListener="#{navegacaoHelper.paginaConselho}"  /> 
                                        
                                    </div>
                                </li>
                                
                                 <li class="nav-item btn-group" style="font-size: .88em">
                                    <a class="nav-link dropdown-toggle" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Pesquisa</a>
                                    <div class="dropdown-menu" aria-labelledby="dropdownMenu1">                                           
                                        <h:commandLink styleClass="dropdown-item" value="Modulo" actionListener="#{navegacaoHelper.paginaModulo()}"  /> 
                                        <h:commandLink styleClass="dropdown-item" value="Aluno" actionListener="#{navegacaoHelper.paginaAluno()}"  /> 
                                        <h:commandLink styleClass="dropdown-item" value="Iniciação Científica" actionListener="#{navegacaoHelper.paginaIC()}"  />
                                        <h:commandLink styleClass="dropdown-item" value="Projeto de Pesquisa" actionListener="#{navegacaoHelper.paginaPP()}"  />
                                    </div>
                                </li>
                            </h:panelGroup>
                        </ul>
                        <h:panelGroup rendered="#{loginController.isUser}">
                            <div style="color: #ffffff; text-align: right;">
                                <h:outputText style="color: #ffffff; text-align: right; font-size: .88em" value="#{loginController.user.nomecompleto}, perfil atual de #{loginController.perfilAtual}" rendered="#{loginController.isUser}"/>
                                <br></br>
                                <p:commandLink style="color: #ffffff; text-align: right; font-size: .88em" value="Alterar para perfil de #{loginController.perfilDuplo}" 
                                               rendered="#{loginController.multiploPerfil}" actionListener="#{loginController.confirmar}" ajax="false">
                                </p:commandLink>
                                <br></br>
                                <h:commandLink style="color: #ffffff; text-align: right;" action="#{navegacaoHelper.alterarSenhar()}" rendered="#{loginController.isUser}">
                                    <i class="fa fa-sign-out" aria-hidden="true">Alterar Senha</i>
                                </h:commandLink> <br></br>
                                <h:commandLink style="color: #ffffff; text-align: right;" action="#{loginController.logout}" rendered="#{loginController.isUser}">
                                    <i class="fa fa-sign-out" aria-hidden="true">Sair</i>
                                </h:commandLink>

                            </div>
                        </h:panelGroup>

                        <h:form id="login" rendered="#{!loginController.isUser}">

                            <ul class="nav navbar-nav navbar-right">
                                <li class="dropdown">
                                    <a href="#" style="font-size: .88em; color: #ffffff" class=" dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Login</a>
                                    <ul id="login-dp" class="dropdown-menu">
                                        <li>
                                            <div class="row">
                                                <div class="col-lg-12">

                                                    <h:form id="loginform" styleClass="form-signin" role="form">
                                                        <h5 class="form-signin-heading">Entrar</h5>
                                                        <p:inputText type="email" placeholder="Email" styleClass="form-control validate" id="Email" value="#{loginController.user.email}" required="true"/>   
                                                        <p:password styleClass="form-control" id="senha" value="#{loginController.user.password}" required="true" placeholder="Senha" ></p:password>                                                           
                                                        <p:commandButton styleClass="btn btn-sm btn-primary btn-rounded" id="btnSalvar" value="Entrar" 
                                                                         action="#{loginController.login()}" update="menu:login:mErro" />    
                                                    </h:form>

                                                    <div class="bottom text-center">
                                                        <a href="https://palmas.uft.edu.br/grad/ccomp/faces/recuperarsenha.xhtml"><b>Recuperar senha</b></a>
                                                    </div>


                                                </div>
                                            </div>
                                        </li>

                                    </ul>
                                </li>
                            </ul>
                            <!-- <p:growl id="growl" showDetail="true" sticky="true" />  -->
                            <h:outputText id="mErro" style="color: #ffffff; text-align: right; font-size: .88em" value="#{loginController.mensagem}" />
                        </h:form>
                    </div>
                </div>
            </nav>
        </h:form>
        <!--/.Navbar-->
    </ui:composition>
</html>                           
